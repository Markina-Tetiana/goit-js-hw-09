{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const formData = {\n  email: '',\n  message: '',\n};\n\nconst form = document.querySelector('.feedback-form');\nconst emailInput = form.querySelector('input[name=\"email\"]');\nconst messageInput = form.querySelector('textarea[name=\"message\"]');\n\n//запис в локалсторедж\nconst updateLocalStorage = (key, data) => {\n  try {\n    localStorage.setItem(key, JSON.stringify(data));\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n//зчитування з локалсторедж\nconst loadFromLS = key => {\n  try {\n    const data = localStorage.getItem(key);\n\n    return data ? JSON.parse(data) : undefined;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n// автозаповнення при завантаженні стор\nwindow.addEventListener('DOMContentLoaded', () => {\n  const savedData = loadFromLS('feedback-form-state');\n  if (savedData) {\n    formData.email = savedData.email || '';\n    formData.message = savedData.message || '';\n    emailInput.value = formData.email;\n    messageInput.value = formData.message;\n  }\n});\n\n// відстеження вводу тексту у формі\nform.addEventListener('input', event => {\n  const { name, value } = event.target;\n\n  if (name in formData) {\n    formData[name] = value;\n    updateLocalStorage('feedback-form-state', formData);\n  }\n});\n\n// відправка форми\nform.addEventListener('submit', event => {\n  event.preventDefault();\n\n  if (!formData.email.trim() || !formData.message.trim()) {\n    alert('Fill please all fields');\n    return;\n  }\n  console.log('Received data:', formData);\n\n  // очищення форми, formData та локалсторедж\n  form.reset();\n  localStorage.removeItem('feedback-form-state');\n  formData.email = '';\n  formData.message = '';\n});\n"],"names":["formData","form","emailInput","messageInput","updateLocalStorage","key","data","error","loadFromLS","savedData","event","name","value"],"mappings":"wFAAA,MAAMA,EAAW,CACf,MAAO,GACP,QAAS,EACX,EAEMC,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAaD,EAAK,cAAc,qBAAqB,EACrDE,EAAeF,EAAK,cAAc,0BAA0B,EAG5DG,EAAqB,CAACC,EAAKC,IAAS,CACxC,GAAI,CACF,aAAa,QAAQD,EAAK,KAAK,UAAUC,CAAI,CAAC,CAC/C,OAAQC,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACH,EAGMC,EAAaH,GAAO,CACxB,GAAI,CACF,MAAMC,EAAO,aAAa,QAAQD,CAAG,EAErC,OAAOC,EAAO,KAAK,MAAMA,CAAI,EAAI,MAClC,OAAQC,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACH,EAGA,OAAO,iBAAiB,mBAAoB,IAAM,CAChD,MAAME,EAAYD,EAAW,qBAAqB,EAC9CC,IACFT,EAAS,MAAQS,EAAU,OAAS,GACpCT,EAAS,QAAUS,EAAU,SAAW,GACxCP,EAAW,MAAQF,EAAS,MAC5BG,EAAa,MAAQH,EAAS,QAElC,CAAC,EAGDC,EAAK,iBAAiB,QAASS,GAAS,CACtC,KAAM,CAAE,KAAAC,EAAM,MAAAC,GAAUF,EAAM,OAE1BC,KAAQX,IACVA,EAASW,CAAI,EAAIC,EACjBR,EAAmB,sBAAuBJ,CAAQ,EAEtD,CAAC,EAGDC,EAAK,iBAAiB,SAAUS,GAAS,CAGvC,GAFAA,EAAM,eAAc,EAEhB,CAACV,EAAS,MAAM,KAAI,GAAM,CAACA,EAAS,QAAQ,OAAQ,CACtD,MAAM,wBAAwB,EAC9B,MACD,CACD,QAAQ,IAAI,iBAAkBA,CAAQ,EAGtCC,EAAK,MAAK,EACV,aAAa,WAAW,qBAAqB,EAC7CD,EAAS,MAAQ,GACjBA,EAAS,QAAU,EACrB,CAAC"}